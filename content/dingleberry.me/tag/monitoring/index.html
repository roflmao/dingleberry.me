<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from dingleberry.me/tag/monitoring/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 28 Jul 2020 09:24:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta name="verify-v1" content="2rXzy+cQDUSahcuL4FvfXvDHZf0neGFXRtWQjgvNFSg=" />
<meta name="verify-v1" content="cAY9vxAYMdRz6Fqo2XC7yBXodW8+0qyJVN+Jm4NaCjs=" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>monitoring | dingleberry.me</title>

<link rel="stylesheet" type="text/css" href="../../wp-content/themes/quadstripe/style.css" />

<link rel="stylesheet" type="text/css" href="../../wp-content/themes/quadstripe/blue.css" />



<link rel="alternate" type="application/rss+xml" title="dingleberry.me RSS Feed" href="../../feed/index.html" />

<link rel="pingback" href="../../xmlrpc.php" />



<link rel="alternate" type="application/rss+xml" title="dingleberry.me &raquo; monitoring Tag Feed" href="feed/index.html" />
<link rel='stylesheet' id='shadowbox-css-css'  href='../../wp-content/uploads/shadowbox-js/src/shadowbox19ce.css?ver=3.0.3' type='text/css' media='screen' />
<link rel='stylesheet' id='shadowbox-extras-css'  href='../../wp-content/plugins/shadowbox-js/css/extrasc393.css?ver=3.0.3.10' type='text/css' media='screen' />
<link rel='stylesheet' id='sociablecss-css'  href='../../wp-content/plugins/sociable/css/sociable7e2e.css?ver=3.8.1' type='text/css' media='all' />
<link rel='stylesheet' id='quotescollection-style-css'  href='../../wp-content/plugins/quotes-collection/quotes-collection00e2.css?ver=1.5.7' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery3e5a.js?ver=1.10.2'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min1576.js?ver=1.2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var QCAjax = {"ajaxurl":"http:\/\/dingleberry.me\/wp-admin\/admin-ajax.php","nonce":"413e2c4400","nextquote":"Next quote\u00a0\u00bb","loading":"Loading...","error":"Error getting quote","auto_refresh_max":"30","auto_refresh_count":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/quotes-collection/quotes-collection00e2.js?ver=1.5.7'></script>
<script type='text/javascript' src='../../wp-content/plugins/sociable/js/sociable7e2e.js?ver=3.8.1'></script>
<script type='text/javascript' src='../../wp-content/plugins/sociable/js/vuible7e2e.js?ver=3.8.1'></script>
<script type='text/javascript' src='../../wp-content/plugins/sociable/js/addtofavorites7e2e.js?ver=3.8.1'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery.form.min018d.js?ver=3.37.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPWallSettings = {"refreshtime":"0","expand_box":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/wp-wall/wp-wall7e2e.js?ver=3.8.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.8.1" />
<!-- HeadSpace SEO 3.6.41 by John Godley - urbangiraffe.com -->
<meta name="description" content="technical blog about technical stuff for sysadmins etc" />
<meta name="keywords" content="nagios dashboard bigip f5 varnish munin debian lisa curl linux sysadmin" />
<!-- HeadSpace -->
<script type='text/javascript'>var base_url_sociable = 'http://dingleberry.me/wp-content/plugins/sociable/'</script><script type='text/javascript' src='http://apis.google.com/js/plusone.js'></script><link rel="stylesheet" href="../../wp-content/plugins/wp-wall/wp-wall.css" type="text/css" />
<!-- All in One SEO Pack 2.1.3 by Michael Torbert of Semper Fi Web Design[410,484] -->
<link rel='next' href='page/2/index.html' />

<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->

</head>



<body>



   <!-- Begin Wrapper -->

   <div id="wrapper">

   

         <!-- Begin Header -->

         <div id="header">

		 

		       <h1><a href="../../index.html">dingleberry.me</a></h1>

				<div class="description">technical blog shit</div>

			   

		 </div>

		 <!-- End Header -->

		 

		 <!-- Begin Navigation -->

		 <div id="navigation">

		 

		       <ul>

			   <li><a href="../../index.html">Home</a></li>

			<li class="page_item page-item-2"><a href="../../about/index.html">About Us</a></li>

				</ul>

		 </div>
		 <!-- End Navigation -->

<br/>
<script type="text/javascript"><!--
google_ad_client = "pub-0660223234642083";
/* 728x90, created 11/9/09 */
google_ad_slot = "8516937673";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


		 

		 <!-- Begin Content -->

		 <div id="content">

		 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2014/03/running-nagiosplugins-via-saltstacks-peer-communication/index.html" rel="bookmark" title="Permanent Link to running nagiosplugins via saltstacks peer communicationsystem">running nagiosplugins via saltstacks peer communicationsystem</a></h2>



<div class="post-info">Posted March 21, 2014 by morten</div>

			   

			   <p>So &#8230;my previous post wasÂ  similar to this, but you most likely dont want to run the salt-master and nagios on the same server, so I had to find a way to let the nagios-server execute its plugins on hosts via the salt-master. This can be done using the python client api and saltstacks own peer communication system.</p>
<p>First of all, read this : <a title="http://docs.saltstack.com/ref/peer.html" href="http://docs.saltstack.com/ref/peer.html" target="_blank">http://docs.saltstack.com/ref/peer.html</a></p>
<p>Then check out my wrapper here : <a title="https://github.com/mortis1337/nagios-plugins/blob/master/check_by_saltpeer.py" href="https://github.com/mortis1337/nagios-plugins/blob/master/check_by_saltpeer.py" target="_blank">https://github.com/mortis1337/nagios-plugins/blob/master/check_by_saltpeer.py</a></p>
<p>Yay! Now you can throw away NRPE forever and stop using ssh-keys for the nagiosuser if you are doing that allready.</p>
<p>Nagiosplugins over zmq? I like it <img src="../../wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>



<p>Tags: <a href="index.html" rel="tag">monitoring</a>, <a href="../nagios/index.html" rel="tag">nagios</a>, <a href="../nrpe/index.html" rel="tag">nrpe</a>, <a href="../salt/index.html" rel="tag">salt</a>, <a href="../saltstack/index.html" rel="tag">saltstack</a>, <a href="../zmq/index.html" rel="tag">zmq</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2014/03/running-nagiosplugins-via-saltstacks-peer-communication/index.html#comments">6 Comments</a></div>

			  

			   

			   <!-- End Post -->



	 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2013/11/running-nagios-plugins-via-saltstack/index.html" rel="bookmark" title="Permanent Link to Running nagios-plugins via saltstack">Running nagios-plugins via saltstack</a></h2>



<div class="post-info">Posted November 26, 2013 by morten</div>

			   

			   <p>I&#8217;m so sick of maintaining NRPE-config on my servers, and I dont really want root-sshkeys all over the place. Recently I discovered saltstack and started to play with it a bit. I came up with the idea of running Nagios(or Icinga) on the same server as my salt-master and so I created a little wrapper that lets me run nagios-checks via saltstack.</p>
<p>Here&#8217;s how it works.</p>
<p>This is my little wrapper-script written in python: <a title="https://github.com/mortis1337/nagios-plugins/blob/master/check_by_salt.py" href="https://github.com/mortis1337/nagios-plugins/blob/master/check_by_salt.py">https://github.com/mortis1337/nagios-plugins/blob/master/check_by_salt.py</a></p>
<p>The wrapper takes hostname, plugin and a timeoutvalue as arguments:</p>
<p>$ python check_by_salt.py -H examplehost -p &#8220;/path/to/existing/nagiosplugin arg1 arg2&#8243; -t 10</p>
<p>The wrapper imports salt and runs commands on minions with cmd.run_all and returns the output and the exitcode.</p>
<p>For this to work as the nagios/icinga user, you will have to configure the client_acl for the user in the salt-master config, so go ahead and edit the master-configfile (default: /etc/salt/master)</p>
<p>Search for &#8220;client_acl&#8221; in the file and add this :</p>
<p>client_acl:<br />
icinga:<br />
- cmd.*</p>
<p>Yeeaaaap, thats quite the security risk right there, but read up on how to limit what can be done with the cmd-state in salt and atleast it will be safer than using ssh-keys <img src="../../wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
<p>check_by_salt in combination with <a title="https://github.com/mortis1337/nagios-plugins/blob/master/check_disk_generic.py" href="https://github.com/mortis1337/nagios-plugins/blob/master/check_disk_generic.py">https://github.com/mortis1337/nagios-plugins/blob/master/check_disk_generic.py</a> will instantly give you monitoring of all your disks with no clientside-configuration.</p>
<p>Use it if you like it and feel free to improve it.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>



<p>Tags: <a href="../icinga/index.html" rel="tag">icinga</a>, <a href="index.html" rel="tag">monitoring</a>, <a href="../nagios/index.html" rel="tag">nagios</a>, <a href="../salt/index.html" rel="tag">salt</a>, <a href="../saltstack/index.html" rel="tag">saltstack</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2013/11/running-nagios-plugins-via-saltstack/index.html#comments">4 Comments</a></div>

			  

			   

			   <!-- End Post -->



	 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2011/02/monitor-dell-servers-on-debian-squeeze-with-nagios/index.html" rel="bookmark" title="Permanent Link to Monitor Dell servers on Debian Squeeze with Nagios">Monitor Dell servers on Debian Squeeze with Nagios</a></h2>



<div class="post-info">Posted February 10, 2011 by MrBerry</div>

			   

			   <p>Im just writing up this post because the dellomsa packages arent working with the new Debian Squeeze 6.0.</p>
<p>I had problems with the omreport command not giving me info of ex memory/psu/cpu. (omreport chassis info said No sensors found etc)</p>
<p>I used some hours to try to get it working with a newer dellomsa but that didnt work either.<br />
Then i found some official Dell Ubuntu packages, which i found working excellent on Debian Squeeze as well:<br />
<code>dpkg -P dellomsa #Make sure dellomsa isnt installed.<br />
echo 'deb http://linux.dell.com/repo/community/deb/latest /' | sudo tee -a /etc/apt/sources.list.d/linux.dell.com.sources.list<br />
apt-get update<br />
apt-get install srvadmin-base smbios-utils</code></p>
<p>You will also need the <a href="http://security.ubuntu.com/ubuntu/pool/universe/libs/libsmbios/libsmbios2_2.2.13-0ubuntu4_amd64.deb">libsmbios2_2.2.13-0ubuntu4_amd64.deb</a> from Ubuntu Lucid to get smbios stuff working.<br />
<code>dpkg -i libsmbios2_2.2.13-0ubuntu4_amd64.deb<br />
/etc/init.d/dataeng start #if this starts, omreport works!</code></p>
<p>Now you have the newer Debian Squeeze Dell stuff working.</p>
<p>We have deployed our hwmonitoring of our Dell servers with <a href="http://folk.uio.no/trondham/software/check_openmanage.html">check_openmanage </a> and<a href="http://www.nagios.org/"> Nagios</a><br />
Read more about the check_openmanage on the check_openmanage site (this is a great plugin btw!)</p>
<p>Resources:<br />
<a href="http://folk.uio.no/trondham/software/check_openmanage.html">http://folk.uio.no/trondham/software/check_openmanage.html</a><br />
<a href="http://linux.dell.com/repo/community/deb/latest/">http://linux.dell.com/repo/community/deb/latest/</a></p>



<p>Tags: <a href="../debian/index.html" rel="tag">debian</a>, <a href="../dell/index.html" rel="tag">dell</a>, <a href="../dellomsa/index.html" rel="tag">dellomsa</a>, <a href="index.html" rel="tag">monitoring</a>, <a href="../nagios/index.html" rel="tag">nagios</a>, <a href="../squeeze/index.html" rel="tag">squeeze</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2011/02/monitor-dell-servers-on-debian-squeeze-with-nagios/index.html#comments">6 Comments</a></div>

			  

			   

			   <!-- End Post -->



	 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2010/03/automatically-create-bugs-in-jira-with-a-nagios-eventhandler/index.html" rel="bookmark" title="Permanent Link to Automatically create bugs in Jira with a Nagios eventhandler">Automatically create bugs in Jira with a Nagios eventhandler</a></h2>



<div class="post-info">Posted March 9, 2010 by morten</div>

			   

			   <p>The most important part about this is  &#8230;.dont use it too often, but it CAN make sense on really critical events, like warnings/criticals on partitionspace. For instance, if your mysql server is running out of space on /var/lib/mysql and your operationsteam didnt see the WARNING/CRITICAL notification from <a href="http://www.nagios.org/">Nagios</a>, it might be a good idea to have the bug created in <a href="http://www.atlassian.com/software/jira/">Jira</a> to make it even more visible. </p>
<p>Here&#8217;s how you do it.<br />
First of all, be sure to have <a href="http://nagios.sourceforge.net/docs/3_0/eventhandlers.html">eventhandlers</a> enabled in <a href="http://www.nagios.org/">Nagios</a>.</p>
<p>Configure your commands.cfg file to have something similar to this : </p>
<p><code>define command{<br />
        command_name    jira_eventhandler<br />
        command_line    $USER1$/jira_eventhandler -a morten -s $SERVICESTATE$ -t $SERVICESTATETYPE$ -A $SERVICEATTEMPT$ -H $HOSTNAME$ -S $SERVICEDESC$<br />
        }<br />
</code></p>
<p>Configure your services.cfg to have something similar to this :<br />
<code>define service{<br />
        use                             generic-service<br />
        host_name                       myhost<br />
        service_description             CHECK_DISK_ROOT<br />
        is_volatile                     0<br />
        max_check_attempts              3<br />
        normal_check_interval           10<br />
        retry_check_interval            1<br />
        contact_groups                  linux-admins<br />
        notification_period             24x7<br />
        notification_options            c,w,r<br />
        check_command                   check_remote_disk_nagios!10%!5%!/<br />
        process_perf_data               1<br />
        event_handler                   jira_eventhandler<br />
        flap_detection_enabled          0<br />
        }</code></p>
<p>And be sure to have the jira_eventhandler script in place. You can download mine here : <a href='../../wp-content/uploads/2010/03/jira_eventhandler.txt'>jira_eventhandler</a></p>



<p>Tags: <a href="../eventhandler/index.html" rel="tag">eventhandler</a>, <a href="../jira/index.html" rel="tag">jira</a>, <a href="index.html" rel="tag">monitoring</a>, <a href="../nagios/index.html" rel="tag">nagios</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2010/03/automatically-create-bugs-in-jira-with-a-nagios-eventhandler/index.html#comments">4 Comments</a></div>

			  

			   

			   <!-- End Post -->



	 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2009/11/nagios-operations-dashboard/index.html" rel="bookmark" title="Permanent Link to Nagios Operations Dashboard">Nagios Operations Dashboard</a></h2>



<div class="post-info">Posted November 12, 2009 by MrBerry</div>

			   

			   <p>We had an idea of putting up an operations monitoring screen in our workplace for more effecient discover alerts from nagios.<br />
We found a php nagios dash app which parses status.dat (<a href="http://forums.meulie.net/viewtopic.php?f=60&amp;t=3384&amp;start=0&amp;hilit=dashboard">Nagios Dashboard &#8211; PHP</a>)<br />
We modified this to only show criticals/warnings, made a ajax interface for refreshing/showing the data, and modified the css a bit (Thanks Jonas!)</p>
<p>Here is the modified version:<br />
<a href='../../wp-content/uploads/2009/11/dash.tar'>dash.tar</a></p>
<p>To install just extract this on your nagios server and edit the $file in nagios_get.php to your status.dat file of your nagios <img src="../../wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
<p>Here is a demo of the dash in real surroundings:</p>
<p><a href="../../wp-content/uploads/2009/11/operations1.jpg" rel="shadowbox[sbpost-551];player=img;"><img src="../../wp-content/uploads/2009/11/operations1-300x225.jpg" alt="operations dashboard" title="operations dashboard" width="300" height="225" class="alignnone size-medium wp-image-550" /></a></p>



<p>Tags: <a href="../dashboard/index.html" rel="tag">dashboard</a>, <a href="index.html" rel="tag">monitoring</a>, <a href="../nagios/index.html" rel="tag">nagios</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2009/11/nagios-operations-dashboard/index.html#comments">1,912 Comments</a></div>

			  

			   

			   <!-- End Post -->



	 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2009/02/a-quick-note-about-the-nagios-check_procs-plugin/index.html" rel="bookmark" title="Permanent Link to A quick note about the Nagios check_procs plugin">A quick note about the Nagios check_procs plugin</a></h2>



<div class="post-info">Posted February 24, 2009 by morten</div>

			   

			   <p>I had an issue today where <code>check_procs</code> returned &#8220;0 processes with command name &#8216;some-process-name&#8217; &#8220;. When I did a <code>ps -ef | grep some-process-name</code> I could see the process running, so I was like &#8220;wtf?!&#8221;, but then a collegue told me he had seen this before. Seems the <code>check_procs</code> uses something like <code>ps -cA</code> to check for running-processes and using those parameters, you only see part of the process name, so while it wouldnt match &#8220;some-process-name&#8221; it would match &#8220;some-process-n&#8221;. So if you wonder why it returns 0 processes, do a <code>ps -cA</code> to find the right process name to match in your config.</p>



<p>Tags: <a href="../check_procs/index.html" rel="tag">check_procs</a>, <a href="index.html" rel="tag">monitoring</a>, <a href="../nagios/index.html" rel="tag">nagios</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2009/02/a-quick-note-about-the-nagios-check_procs-plugin/index.html#comments">2 Comments</a></div>

			  

			   

			   <!-- End Post -->



	 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2009/02/htop-alternative-to-regular-top/index.html" rel="bookmark" title="Permanent Link to htop, great alternative to regular top">htop, great alternative to regular top</a></h2>



<div class="post-info">Posted February 18, 2009 by morten</div>

			   

			   <p>Recently discovered &#8220;htop&#8221;, a fancyer &#8220;top&#8221;.</p>
<p>Check it out : <code>apt-get install htop</code></p>
<p><a href="../../wp-content/uploads/2009/02/htop.png" rel="shadowbox[sbpost-292];player=img;"><img width="70%" height="60%" src="../../wp-content/uploads/2009/02/htop.png" alt="htop screenie" /></a></p>



<p>Tags: <a href="../htop/index.html" rel="tag">htop</a>, <a href="index.html" rel="tag">monitoring</a>, <a href="../top/index.html" rel="tag">top</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2009/02/htop-alternative-to-regular-top/index.html#comments">No Comments</a></div>

			  

			   

			   <!-- End Post -->



	 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2009/02/monitoring-web-apps-using-html-forms-for-logging-in/index.html" rel="bookmark" title="Permanent Link to Monitoring web apps using html forms for logging in">Monitoring web apps using html forms for logging in</a></h2>



<div class="post-info">Posted February 18, 2009 by morten</div>

			   

			   <p>Several times I&#8217;ve wanted to monitor if login actually works on webapplications that uses html forms for user validation. Today I made a simple bash nagios plugin to do that. It uses curl and checks it&#8217;s output. Curl supports POST variables.<br />
The plugin also checks the unixtime before and after the curl command is being run, then does and expr to find the diff and makes nagios performance data of it.</p>
<p>Feel free to copy paste the code and use it for your own purpose.</p>
<p><code>#!/bin/sh<br />
#my %ERRORS=('OK'=&amp;gt;0,'WARNING'=&amp;gt;1,'CRITICAL'=&amp;gt;2,'UNKNOWN'=&amp;gt;3,'DEPENDENT'=&amp;gt;4);<br />
#This is what we get after a successful login<br />
MATCH="bladiblah successful login bladiblah"<br />
#delete the tmp file before writing a new one<br />
rm /tmp/login_check<br />
#Grab the unixtime before the command runs<br />
BEFORE=`date +%s`<br />
#Login to the app<br />
/usr/bin/curl -H "host: example.com" -F mail="mail@example.com" -F userPassword="fail" http://111.111.111.111 -o /tmp/login_check &amp;gt; /dev/null 2&amp;gt;&amp;amp;1<br />
#Grab the unixtime after the command have been run<br />
AFTER=`date +%s`<br />
DIFF=`/usr/bin/expr $AFTER - $BEFORE`<br />
#Check tmp file if it matches our successful login<br />
CHECK=`grep "$MATCH" /tmp/login_check`<br />
if [ "$CHECK" = "$MATCH" ]; then<br />
#WIN!!<br />
echo "OK. Login successful. | response=$DIFF"<br />
exit 0<br />
else<br />
#FAIL!!<br />
echo "CRITICAL. Login failed."<br />
exit 2<br />
</code></p>
<p>And as always, sorry about the wordpress formating of the code.</p>



<p>Tags: <a href="../authentication/index.html" rel="tag">authentication</a>, <a href="../forms/index.html" rel="tag">forms</a>, <a href="../html/index.html" rel="tag">html</a>, <a href="../login/index.html" rel="tag">login</a>, <a href="index.html" rel="tag">monitoring</a>, <a href="../nagios/index.html" rel="tag">nagios</a>, <a href="../post/index.html" rel="tag">post</a>, <a href="../variables/index.html" rel="tag">variables</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2009/02/monitoring-web-apps-using-html-forms-for-logging-in/index.html#comments">2 Comments</a></div>

			  

			   

			   <!-- End Post -->



	 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2009/01/monitoring-dell-hardware-in-nagios-on-the-debian-etch-64bit-platform/index.html" rel="bookmark" title="Permanent Link to Monitoring Dell hardware in Nagios on the Debian Etch 64bit Platform">Monitoring Dell hardware in Nagios on the Debian Etch 64bit Platform</a></h2>



<div class="post-info">Posted January 29, 2009 by morten</div>

			   

			   <p>Getting Dell&#8217;s linux-software to work on other platforms than Redhat can be a bitch, but I was lucky to come across <a href="http://blog.zztopping.com/2008/04/29/dell-omsa-debian-64bit/">this</a> article. Following those steps I had dellomsa up and running a couple of minutes later.<br />
Then I went to <a href="http://www.nagiosexchange.org/">nagiosexchange</a> and downloaded the perl script <a href="http://www.nagiosexchange.org/cgi-bin/page.cgi?g=1923.html;d=1">check_dell_sensors.pl</a>.</p>
<p>In this case I use check_by_ssh to run the check on each host, so here&#8217;s the <strong>command.cfg</strong> setup</p>
<p><code>define command{<br />
command_nameÂ Â Â  check_dell_sensors<br />
command_lineÂ Â Â  $USER1$/check_by_ssh -l someuser -t 30 -H $HOSTADDRESS$ -C "/usr/lib/nagios/plugins/check_dell_sensors.pl"<br />
}<br />
</code></p>
<p>and finally the <strong>services.cfg</strong></p>
<p><code><br />
define service{<br />
useÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  generic-service<br />
hostgroup_nameÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  cfg_CHECK_DELL_SENSORS<br />
service_descriptionÂ Â Â Â Â Â Â Â Â Â Â Â  CHECK_DELL_SENSORS<br />
is_volatileÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  0<br />
max_check_attemptsÂ Â Â Â Â Â Â Â Â Â Â Â Â  3<br />
normal_check_intervalÂ Â Â Â Â Â Â Â Â Â  5<br />
retry_check_intervalÂ Â Â Â Â Â Â Â Â Â Â  1<br />
contact_groupsÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  linux-admins<br />
notification_periodÂ Â Â Â Â Â Â Â Â Â Â Â  24x7<br />
notification_optionsÂ Â Â Â Â Â Â Â Â Â Â  c,w,r<br />
check_commandÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  check_dell_sensors<br />
}<br />
</code></p>
<p>This will monitor your dell hardware on all hosts in your cfg_CHECK_DELL_SENSORS hostgroup, giving you an output like :<br />
<code>/usr/lib/nagios/plugins/check_dell_sensors.pl<br />
OK -- Hardware Log=Ok; Memory=Ok; Power Supplies=Ok; Processors=Ok; Temperatures=Ok; Voltages=Ok;</code></p>



<p>Tags: <a href="../dell/index.html" rel="tag">dell</a>, <a href="../hardware/index.html" rel="tag">hardware</a>, <a href="index.html" rel="tag">monitoring</a>, <a href="../nagios/index.html" rel="tag">nagios</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2009/01/monitoring-dell-hardware-in-nagios-on-the-debian-etch-64bit-platform/index.html#comments">No Comments</a></div>

			  

			   

			   <!-- End Post -->



	 

				<!-- Start Post -->

		 

		       <div class="post">

			   

			   <h2><a href="../../2008/11/tools-for-monitoring-io/index.html" rel="bookmark" title="Permanent Link to Tools for monitoring I/O">Tools for monitoring I/O</a></h2>



<div class="post-info">Posted November 5, 2008 by MrBerry</div>

			   

			   <p>Allright so you wanna check I/O on your machine, where it all goes and all that kinda shit.</p>
<p><code>apt-get install iotop sysstat</code></p>
<p>Then you have two tools for checking your I/O problems:</p>
<p><strong>First one:</strong> <code>iotop</code><br />
<a href="../../wp-content/uploads/2008/11/iotop_big.png" rel="shadowbox[sbpost-209];player=img;"><img class="alignnone size-medium wp-image-214" title="iotop_big" src="../../wp-content/uploads/2008/11/iotop_big-300x197.png" alt="" width="300" height="197" /></a><br />
This one shows which processes read and write, how much they r/w.<br />
This one is really good if you wonder which procs are making your machine stall.</p>
<p><strong>Second one:</strong> <code>iostat -m 1</code><br />
<a href="../../wp-content/uploads/2008/11/iostat_big.png" rel="shadowbox[sbpost-209];player=img;"><img class="alignnone size-medium wp-image-215" title="iostat_big" src="../../wp-content/uploads/2008/11/iostat_big-300x172.png" alt="" width="300" height="172" /></a><br />
This one shows you the I/O for devices and partitions. Very nice if you wanna check which disks are written/read to in a sw-raid or lvm array</p>
<p>Please comment on other useful tools that should be mentionable <img src="../../wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>



<p>Tags: <a href="../io/index.html" rel="tag">io</a>, <a href="index.html" rel="tag">monitoring</a>, <a href="../tools/index.html" rel="tag">tools</a></p>
			   

			   </div>

			   

			   <div class="info-box"><a href="../../2008/11/tools-for-monitoring-io/index.html#comments">No Comments</a></div>

			  

			   

			   <!-- End Post -->






<div class="clear">

<div class="alignleft"><a href="page/2/index.html" >&laquo; Older Entries</a></div>

			<div class="alignright"></div>

</div>



		   

		 

		 </div>

		 <!-- End Content -->

		 

		 <!-- Begin Sidebar -->
		 <div id="sidebar">

<div class="sidebar-item"><div class="sidebar-heading"><h3>Tags</h3></div><div class="sidebar-content"><div class="tagcloud"><a href='../apache/index.html' class='tag-link-35' title='3 topics' style='font-size: 10.153846153846pt;'>apache</a>
<a href='../apple/index.html' class='tag-link-74' title='4 topics' style='font-size: 11.948717948718pt;'>apple</a>
<a href='../appletv/index.html' class='tag-link-257' title='3 topics' style='font-size: 10.153846153846pt;'>appletv</a>
<a href='../atv/index.html' class='tag-link-266' title='3 topics' style='font-size: 10.153846153846pt;'>atv</a>
<a href='../authentication/index.html' class='tag-link-111' title='2 topics' style='font-size: 8pt;'>authentication</a>
<a href='../bigip/index.html' class='tag-link-234' title='3 topics' style='font-size: 10.153846153846pt;'>bigip</a>
<a href='../broadcom/index.html' class='tag-link-255' title='3 topics' style='font-size: 10.153846153846pt;'>broadcom</a>
<a href='../cfengine/index.html' class='tag-link-144' title='2 topics' style='font-size: 8pt;'>cfengine</a>
<a href='../check_http/index.html' class='tag-link-166' title='2 topics' style='font-size: 8pt;'>check_http</a>
<a href='../crystal/index.html' class='tag-link-263' title='4 topics' style='font-size: 11.948717948718pt;'>crystal</a>
<a href='../crystalhd/index.html' class='tag-link-259' title='4 topics' style='font-size: 11.948717948718pt;'>crystalhd</a>
<a href='../curl/index.html' class='tag-link-67' title='2 topics' style='font-size: 8pt;'>curl</a>
<a href='../dd/index.html' class='tag-link-17' title='2 topics' style='font-size: 8pt;'>dd</a>
<a href='../debian/index.html' class='tag-link-4' title='8 topics' style='font-size: 16.435897435897pt;'>debian</a>
<a href='../dell/index.html' class='tag-link-138' title='4 topics' style='font-size: 11.948717948718pt;'>dell</a>
<a href='../etch/index.html' class='tag-link-210' title='3 topics' style='font-size: 10.153846153846pt;'>etch</a>
<a href='../ext3/index.html' class='tag-link-12' title='2 topics' style='font-size: 8pt;'>ext3</a>
<a href='../firefox/index.html' class='tag-link-167' title='4 topics' style='font-size: 11.948717948718pt;'>firefox</a>
<a href='../firefuck/index.html' class='tag-link-208' title='3 topics' style='font-size: 10.153846153846pt;'>firefuck</a>
<a href='../funny/index.html' class='tag-link-182' title='4 topics' style='font-size: 11.948717948718pt;'>funny</a>
<a href='../hd/index.html' class='tag-link-264' title='4 topics' style='font-size: 11.948717948718pt;'>hd</a>
<a href='../iphone/index.html' class='tag-link-75' title='3 topics' style='font-size: 10.153846153846pt;'>iphone</a>
<a href='../kernel/index.html' class='tag-link-73' title='2 topics' style='font-size: 8pt;'>kernel</a>
<a href='../linux/index.html' class='tag-link-72' title='10 topics' style='font-size: 18.051282051282pt;'>linux</a>
<a href='../login/index.html' class='tag-link-150' title='2 topics' style='font-size: 8pt;'>login</a>
<a href='index.html' class='tag-link-29' title='11 topics' style='font-size: 18.769230769231pt;'>monitoring</a>
<a href='../mplayer/index.html' class='tag-link-55' title='3 topics' style='font-size: 10.153846153846pt;'>mplayer</a>
<a href='../mysql/index.html' class='tag-link-88' title='3 topics' style='font-size: 10.153846153846pt;'>mysql</a>
<a href='../nagios/index.html' class='tag-link-25' title='17 topics' style='font-size: 22pt;'>nagios</a>
<a href='../network/index.html' class='tag-link-94' title='2 topics' style='font-size: 8pt;'>network</a>
<a href='../osx/index.html' class='tag-link-163' title='3 topics' style='font-size: 10.153846153846pt;'>osx</a>
<a href='../ping/index.html' class='tag-link-81' title='3 topics' style='font-size: 10.153846153846pt;'>ping</a>
<a href='../plugins/index.html' class='tag-link-165' title='3 topics' style='font-size: 10.153846153846pt;'>plugins</a>
<a href='../rar/index.html' class='tag-link-57' title='2 topics' style='font-size: 8pt;'>rar</a>
<a href='../salt/index.html' class='tag-link-316' title='3 topics' style='font-size: 10.153846153846pt;'>salt</a>
<a href='../saltstack/index.html' class='tag-link-317' title='3 topics' style='font-size: 10.153846153846pt;'>saltstack</a>
<a href='../sarge/index.html' class='tag-link-113' title='2 topics' style='font-size: 8pt;'>sarge</a>
<a href='../slow/index.html' class='tag-link-158' title='2 topics' style='font-size: 8pt;'>slow</a>
<a href='../ssh/index.html' class='tag-link-109' title='2 topics' style='font-size: 8pt;'>ssh</a>
<a href='../tv/index.html' class='tag-link-271' title='3 topics' style='font-size: 10.153846153846pt;'>tv</a>
<a href='../ubuntu/index.html' class='tag-link-173' title='6 topics' style='font-size: 14.641025641026pt;'>ubuntu</a>
<a href='../varnish/index.html' class='tag-link-31' title='4 topics' style='font-size: 11.948717948718pt;'>varnish</a>
<a href='../video/index.html' class='tag-link-27' title='2 topics' style='font-size: 8pt;'>video</a>
<a href='../xbmc/index.html' class='tag-link-256' title='3 topics' style='font-size: 10.153846153846pt;'>xbmc</a>
<a href='../xen/index.html' class='tag-link-39' title='4 topics' style='font-size: 11.948717948718pt;'>xen</a></div>
</div></div><div class="sidebar-item"><div class="sidebar-heading"><h3>Links</h3></div><div class="sidebar-content">
	<ul class='xoxo blogroll'>
<li><a href="http://www.debian.org/" title="Debian">Debian</a></li>
<li><a href="http://www.usenix.org/lisa08/going" title="We are going to LISA &#8217;08">LISA &#8217;08</a></li>
<li><a href="http://marcus.nordaaker.com/" title="marcus ramberg">marcus ramberg</a></li>

	</ul>
</div></div>
<!-- WP Wall -->
<div class="sidebar-item"><div class="sidebar-heading"><h3>Wall</h3></div><div class="sidebar-content">
<div id="wp_wall">
		<div class="wallnav">
					<img alt="Previous" id="img_left" src="../../wp-content/plugins/wp-wall/i/left.png" />
					<img alt="Next" id="img_right" src="../../wp-content/plugins/wp-wall/i/right.png" />
					  </div> 
	<div id="wallcomments">
			<div id="wp_latest">Latest on Thu, 04:38 pm</div><p class="wall-1 "><span class="wallauthor" title="Iliya#ivanov[IvanovRukidssqu,2,5] on 2020-07-02 16:38:51" >Iliya#ivanov[IvanovRukidssqu,2,5]</span><span class="wallcomment" title="ÐÐ¾Ðµ Ð¿Ð¾ÑÑÐµÐ½Ð¸Ðµ. 
Ð Ð°ÑÐ¿Ð¾Ð»Ð°Ð³Ð°Ñ ÐºÑÐµÐ´Ð¸ÑÐ½Ð°Ñ ÐºÐ°ÑÑÐ° Ð² ÐÑÐ°Ð½Ð¸Ñ Ð±Ð°Ð½Ðº Ð½Ð° ÑÑÐ¼Ð¼Ñ 195000 
ÐÐµÑÐµÑÑÐ°Ð» Ð³Ð°ÑÐ¸ÑÑ Ð¿Ð¾ÑÐ¾Ð¼Ñ ÑÑÐ¾ ÑÐºÑÐ°Ð»Ð¸ Ð´ÐµÐ½ÑÐ³Ð¸. ÐÑÐ½ÑÐµ ÑÑÐµÐ·Ð²Ð¾Ð½ÑÑ Ð¸ Ð¿ÑÐ³Ð°ÑÑ Ð¸ Ð¿ÑÐ¾ÑÑÑ Ð²Ð¾Ð·Ð²ÑÐ°ÑÐ¸ÑÑ 1400 
 
Ð£ÑÑÐ°Ð½Ð¾Ð²Ð¸Ð» ÑÐ¾ÑÑ  Ð·Ð°Ð¿ÑÐµÑ Ð²ÑÐ¾Ð´ÑÑÐ¸Ñ Ð²ÑÐ·Ð¾Ð²Ð¾Ð² Ð½Ð°Ð±Ð¾ÑÑ Ð¾ÑÑÐ°Ð½Ð¾Ð²Ð¸Ð»Ð¸ÑÑ. 
Ð§ÑÐ¾ ÑÐ¾Ð²ÐµÑÑÐ°ÑÑ Ñ Ð·Ð°Ð¹Ð¼Ð¾Ð¼ Ð´Ð°Ð»ÑÑÐµ Ð¿ÑÐµÐ´Ð»Ð¾Ð¶Ð¸ÑÐµ?" >: ÐÐ¾Ðµ Ð¿Ð¾ÑÑÐµÐ½Ð¸Ðµ. 
Ð Ð°ÑÐ¿Ð¾Ð»Ð°Ð³Ð°Ñ ÐºÑÐµÐ´Ð¸ÑÐ½Ð°Ñ ÐºÐ°ÑÑÐ° Ð² ÐÑÐ°Ð½Ð¸Ñ Ð±Ð°Ð½Ðº Ð½Ð° ÑÑÐ¼Ð¼Ñ 195000 
ÐÐµÑÐµÑÑÐ°Ð» Ð³Ð°ÑÐ¸ÑÑ Ð¿Ð¾ÑÐ¾Ð¼Ñ ÑÑÐ¾ ÑÐºÑÐ°Ð»Ð¸ Ð´ÐµÐ½ÑÐ³Ð¸. ÐÑÐ½ÑÐµ ÑÑÐµÐ·Ð²Ð¾Ð½ÑÑ Ð¸ Ð¿ÑÐ³Ð°ÑÑ Ð¸ Ð¿ÑÐ¾ÑÑÑ Ð²Ð¾Ð·Ð²ÑÐ°ÑÐ¸ÑÑ 1400 [...]</span></p><p class="wall-2 wall-alt "><span class="wallauthor" title="Colton Ward on 2020-04-14 09:12:09" >Colton Ward</span><span class="wallcomment" title="Bought a groupon for botox and filler. Waited for 
over two hours for my procedure. During the consultation I 
clearly explained to the woman that I did not want to purchase 
any more products and spend more money and just wanted to 
try out the cosmetic procedures I had purchased which was already $300.



Once I was finally seen by the \   https://gome.com.cn" >: Bought a groupon for botox and filler. Waited for 
over two hours for my procedure. During the consultation I 
clearly explained to the woman that [...]</span></p><p class="wall-3 "><span class="wallauthor" title="eticobysu on 2020-01-27 23:11:02" >eticobysu</span><span class="wallcomment" title="kategoriyab.ru" >: kategoriyab.ru</span></p><p class="wall-4 wall-alt "><span class="wallauthor" title="txcyperoz61 on 2019-12-17 21:41:07" >txcyperoz61</span><span class="wallcomment" title="ÐÐ³ÑÐ¾Ð¼Ð½Ð¾Ðµ ÑÐµÐ±Ðµ Ð¡ÐÐÐ¡ÐÐÐ" >: ÐÐ³ÑÐ¾Ð¼Ð½Ð¾Ðµ ÑÐµÐ±Ðµ Ð¡ÐÐÐ¡ÐÐÐ</span></p><p class="wall-5 "><span class="wallauthor" title="Dallas on 2019-10-30 06:16:11" >Dallas</span><span class="wallcomment" title="Thanks in support of sharing such a pleasant idea, article is fastidious, thats why i have read it entirely
weight loss doctors chicago phentermine
weight loss doctors chicago phentermine weight loss doctors chicago phentermine" >: Thanks in support of sharing such a pleasant idea, article is fastidious, thats why i have read it entirely
weight loss doctors chicago phentermine
weight loss doctors [...]</span></p><input type="hidden" name="wallpage" id="wallpage" value="1" /><input type="hidden" name="page_left" id="page_left" value="1" /><input type="hidden" name="page_right" id="page_right" value="2" />	</div> 

	
	
		
					
			<p><a id="wall_post_toggle"> &raquo; Leave a reply</a></p>	
		
				
	

	<div id="wall_post">
		<form action="http://dingleberry.me/wp-content/plugins/wp-wall/wp-wall-ajax.php" method="post" id="wallform">
		
						
			<p>
			<label for="wpwall_author"><small>Name</small></label><br/>
			<input type="text" name="wpwall_author" id="wpwall_author" value=""  tabindex="11"  />
			</p>
			
						
						
			<p>
			<label for="wpwall_comment"><small>Comment</small></label><br/>
			<textarea name="wpwall_comment" id="wpwall_comment" rows="3" cols="" tabindex="13" ></textarea>
			</p>
					
			<p><input name="submit_wall_post" type="submit" id="submit_wall_post" tabindex="14" value="Submit" /></p>
			
		</form> 								
	</div>
	
	<div id="wallresponse"></div>
	
</div>
<br />
</div></div><div class="sidebar-item"><div class="sidebar-heading"><h3>Meta</h3></div><div class="sidebar-content">			<ul>
						<li><a href="../../wp-login.html">Log in</a></li>
			<li><a href="../../feed/index.html" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="../../comments/feed/index.html" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>						</ul>
</div></div><div class="sidebar-item">	          	 <div class="sidebar-item">
				 <div class="sidebar-heading"><h3>Search</h3></div>
				 <div class="sidebar-content">
<form method="get" id="searchform" action="http://dingleberry.me/">
<div><input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="" />
</div>
</form>
				</div>
				</div></div></div>

		 </div>
		 <!-- End Sidebar -->
<div id="footer">

Copyright &copy; 2008.  Design by <a href="http://imanto.com/">imanto.com</a>.  Theme by <a href="http://www.themelab.com/">Theme Lab</a> and <a href="http://www.websiteoffice.com/">Online Marketing</a>.  Powered by <a href="http://wordpress.org/">WordPress</a>.

35 queries in 0.262  seconds.

   </div>

   <!-- End Wrapper -->

<script type='text/javascript' src='../../wp-content/uploads/shadowbox-js/afc2df7514bde3dd091bff35b266117519ce.js?ver=3.0.3'></script>

<!-- Begin Shadowbox JS v3.0.3.10 -->
<!-- Selected Players: html, iframe, img, qt, swf, wmp -->
<script type="text/javascript">
/* <![CDATA[ */
	var shadowbox_conf = {
		animate: true,
		animateFade: true,
		animSequence: "sync",
		modal: false,
		showOverlay: true,
		overlayColor: "#000",
		overlayOpacity: "0.8",
		flashBgColor: "#000000",
		autoplayMovies: true,
		showMovieControls: true,
		slideshowDelay: "0",
		resizeDuration: "0.35",
		fadeDuration: "0.35",
		displayNav: true,
		continuous: false,
		displayCounter: true,
		counterType: "default",
		counterLimit: "10",
		viewportPadding: "20",
		handleOversize: "resize",
		handleUnsupported: "link",
		autoDimensions: false,
		initialHeight: "160",
		initialWidth: "320",
		enableKeys: true,
		skipSetup: false,
		flashParams: {bgcolor:"#000000", allowFullScreen:true},
		flashVars: {},
		flashVersion: "9.0.0",
		useSizzle: false
	};
	Shadowbox.init(shadowbox_conf);
/* ]]> */
</script>
<!-- End Shadowbox JS -->


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5928000-1");
pageTracker._trackPageview();
</script>

</body>


<!-- Mirrored from dingleberry.me/tag/monitoring/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 28 Jul 2020 09:25:20 GMT -->
</html>